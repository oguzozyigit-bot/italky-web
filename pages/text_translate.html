<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>italkyAI ‚Ä¢ Metinden √áeviri</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

  <style>
    /* TASARIM AYARLARI */
    :root{
      --frameW: min(480px, calc(100vw - 18px));
      --topH: 64px;
      --footerH: 40px;
      --bg:#030014;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.60);
      --border: rgba(255,255,255,.10);
      --ai1:#A5B4FC;
      --ai2:#4F46E5;
      --btnBg: rgba(255,255,255,.06);
      --btnBd: rgba(255,255,255,.12);
      --navyA: rgba(40,120,255,.12);
      --navyB: rgba(255,255,255,.05);
      --burgA: rgba(120, 20, 35, .85);
      --burgB: rgba(90, 15, 30, .65);
      --burgC: rgba(70, 10, 25, .45);
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; outline:none; }
    html,body{
      margin:0; padding:0; width:100%; height:100dvh;
      overflow:hidden; position:fixed;
      font-family:'Outfit', sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex; align-items:center; justify-content:center;
    }

    .cosmos-bg{ position:absolute; inset:-50%; width:200%; height:200%; background:var(--bg); z-index:0; pointer-events:none; }
    .orb{ position:absolute; border-radius:50%; filter: blur(90px); opacity:.28; animation: floatOrbit 30s infinite alternate ease-in-out; }
    .orb-1{ top:10%; left:10%; width:60vw; height:60vw; background: radial-gradient(circle, rgba(79,70,229,.55), transparent 70%); }
    .orb-2{ bottom:10%; right:10%; width:50vw; height:50vw; background: radial-gradient(circle, rgba(165,180,252,.45), transparent 70%); animation-delay:-5s; }
    @keyframes floatOrbit{ 0%{ transform: translate(0,0) scale(1);} 100%{ transform: translate(10%,-10%) scale(1.1);} }
    .noise{ position:absolute; inset:0; background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E"); pointer-events:none; mix-blend-mode:overlay; z-index:1; }

    .mobile-frame{
      width:100%; max-width:480px; height:100%;
      position:relative; z-index:10;
      background: rgba(8, 8, 20, 0.65);
      backdrop-filter: blur(25px);
      overflow:hidden;
      display:flex; flex-direction:column;
    }
    @media(min-width:520px){
      .mobile-frame{ height:92vh; border-radius:40px; border:1px solid rgba(255,255,255,0.08); box-shadow:0 40px 100px -20px rgba(0,0,0,0.9); }
    }

    .topbar{
      position: sticky; top: 0; z-index: 3000; height: var(--topH);
      display:flex; align-items:center; justify-content:space-between;
      padding: 0 16px; border-bottom:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.35); backdrop-filter: blur(12px);
    }
    .leftControls{ display:flex; align-items:center; gap:12px; }
    .backBtn{
      width:40px;height:40px;border-radius:14px; border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18); color:#fff; font-size:18px;font-weight:1000;
      display:flex;align-items:center;justify-content:center; cursor:pointer;
    }
    .mini-brand{ display:flex; flex-direction:column; justify-content:center; }
    .logo-line{ font-family:'Space Grotesk', sans-serif; font-size: 22px; letter-spacing: -0.5px; display:flex; align-items:center; gap:2px; }
    .logo-main{ font-weight:700; color:#FFFFFF; }
    .logo-ai{ font-weight:700; background: linear-gradient(135deg, var(--ai1) 0%, var(--ai2) 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }

    .main{ flex:1; padding: 12px; overflow:hidden; display:flex; flex-direction:column; gap: 10px; padding-bottom: calc(var(--footerH) + 12px); }
    
    .toolbar{ display:flex; gap:10px; align-items:center; flex: 0 0 auto; }
    .langBtn{
      flex:1; height: 46px; border-radius: 16px; border: 1px solid var(--btnBd);
      background: var(--btnBg); color:#fff; font-weight: 1000; font-size: 12px;
      padding: 0 12px; display:flex; align-items:center; justify-content:space-between;
      cursor:pointer; gap: 10px;
    }
    .langLeft{ display:flex; align-items:center; gap: 10px; overflow:hidden; }
    .flag{ font-size: 16px; flex: 0 0 24px; text-align:center; }
    .langLabel{ white-space: nowrap; overflow:hidden; text-overflow:ellipsis; }
    .swapBtn{
      width: 54px; height: 46px; border-radius: 16px; border: 1px solid var(--btnBd);
      background: var(--btnBg); color: rgba(255,255,255,.92); font-weight: 1000; cursor:pointer;
    }
    .swapBtn:active{ transform: scale(.98); }

    .pane{ flex:1; display:flex; flex-direction: column; gap: 8px; min-height:0; }
    .box{
      border-radius: 22px; border: 1px solid rgba(255,255,255,.10);
      overflow:hidden; display:flex; flex-direction:column; flex: 1;
      backdrop-filter: blur(10px);
    }
    .box.top{ background: radial-gradient(at 0% 0%, var(--navyA), transparent 70%), rgba(0,0,0,.12); }
    .box.bottom{ background: radial-gradient(at 100% 100%, var(--burgA), transparent 70%), rgba(0,0,0,.15); }

    .boxHead{
      padding: 8px 12px; border-bottom: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.22); display:flex; align-items:center; justify-content:space-between;
    }
    .headTitle{ font-weight: 1000; font-size: 12px; color: rgba(255,255,255,.88); }
    .btnsRight{ display:flex; gap:8px; }
    .iconBtn{
      width: 38px; height: 38px; border-radius: 14px; border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06); cursor:pointer; display:flex; align-items:center; justify-content:center;
    }
    .iconBtn svg{ width: 16px; height: 16px; stroke: rgba(255,255,255,.90); fill:none; stroke-width:2; }
    .iconBtn.listening{
      border-color: rgba(79,70,229,.45); background: rgba(79,70,229,.14);
      box-shadow: 0 0 18px rgba(79,70,229,.20);
    }

    textarea{ flex:1; border:none; outline:none; background: transparent; color:#fff; font-size: 15px; padding: 12px; resize:none; }
    .out{ flex:1; padding: 12px; overflow:auto; font-size: 15px; color: rgba(255,255,255,.92); }
    
    .actions-mid{ display:flex; gap: 10px; padding: 2px 0; }
    .btn{
      flex:1; height: 44px; border-radius: 16px; border: 1px solid var(--btnBd);
      background: var(--btnBg); color:#fff; font-weight: 1000; cursor:pointer; font-size: 13px;
    }
    .btn.primary{ background: linear-gradient(135deg, var(--ai1), var(--ai2)); border: none; }
    .btn:active{ transform: scale(.98); }

    .footerbar{
      position: fixed; left: 50%; transform: translateX(-50%); width: var(--frameW);
      bottom: 0; z-index: 2400; height: var(--footerH);
      display:flex; justify-content:center; align-items: center;
      background: rgba(3, 0, 20, 0.95); border-top: 1px solid rgba(255,255,255,.05);
    }
    .footerBrand{ font-size: 11px; color: rgba(255,255,255,0.35); letter-spacing: 0.5px; font-weight: 700; }

    /* Dil Se√ßim Paneli */
    .sheetBackdrop{
      position: fixed; inset: 0; z-index: 9999; background: rgba(0,0,0,.72);
      display:none; align-items:flex-end; justify-content:center; padding: 16px;
    }
    .sheetBackdrop.show{ display:flex; }
    .sheet{
      width: 100%; max-width: 480px; background: rgba(10,10,18,.96);
      border: 1px solid rgba(255,255,255,.10); border-radius: 26px;
      overflow:hidden; max-height: 60vh; display:flex; flex-direction:column;
    }
    .sheetTop{ padding: 12px 14px; display:flex; justify-content:space-between; align-items:center; border-bottom: 1px solid rgba(255,255,255,.08); }
    .sheetTitle{ font-weight: 1000; font-size: 13px; color:#fff; }
    .sheetClose{ width:36px; height:36px; border-radius:12px; background:rgba(255,255,255,.1); border:none; color:#fff; cursor:pointer; }
    .sheetList{ overflow-y:auto; padding: 0; margin:0; }
    .sheetRow{
      padding: 12px 14px; display:flex; justify-content:space-between; align-items:center;
      border-bottom: 1px solid rgba(255,255,255,.06); cursor:pointer;
    }
    .sheetRow:active{ background: rgba(255,255,255,.05); }
    .sheetRow .left{ display:flex; align-items:center; gap:10px; }
    .sheetRow .name{ font-weight: 700; font-size: 14px; color:#fff; }
  </style>
</head>

<body>
  <div class="cosmos-bg"><div class="orb orb-1"></div><div class="orb orb-2"></div></div>
  
  <div class="mobile-frame">
    <div class="topbar">
      <div class="leftControls">
        <button class="backBtn" onclick="history.back()">‚Üê</button>
        <div class="mini-brand"><div class="logo-line"><span class="logo-main">italky</span><span class="logo-ai">AI</span></div></div>
      </div>
    </div>

    <div class="main">
      <div class="toolbar">
        <button class="langBtn" id="fromLangBtn"><span class="langLeft"><span class="flag" id="fromFlag">üåê</span><span class="langLabel" id="fromLangTxt">Otomatik</span></span><span>‚ñº</span></button>
        <button class="swapBtn" id="swapBtn">‚áÑ</button>
        <button class="langBtn" id="toLangBtn"><span class="langLeft"><span class="flag" id="toFlag">üáπüá∑</span><span class="langLabel" id="toLangTxt">T√ºrk√ße</span></span><span>‚ñº</span></button>
      </div>

      <div class="pane">
        <div class="box top">
          <div class="boxHead">
            <span class="headTitle">√áevrilecek metin</span>
            <div class="btnsRight"><button class="iconBtn" id="micIn">üé§</button></div>
          </div>
          <textarea id="inText" placeholder="Yazmaya ba≈üla..." spellcheck="false"></textarea>
        </div>

        <div class="actions-mid">
          <button class="btn" id="clearBtn">Temizle</button>
          <button class="btn primary" id="translateBtn">√áevir</button>
        </div>

        <div class="box bottom">
          <div class="boxHead">
            <span class="headTitle">√áeviri</span>
            <div class="btnsRight"><button class="iconBtn" id="copyOut">üìã</button></div>
          </div>
          <div class="out" id="outText">‚Äî</div>
        </div>
      </div>
    </div>
    
    <div class="footerbar">
      <div class="footerBrand">italkyAI By Ozyigit‚Äôs 2026</div>
    </div>
  </div>

  <div class="sheetBackdrop" id="langSheet">
    <div class="sheet">
      <div class="sheetTop">
        <span class="sheetTitle">Dil Se√ß</span>
        <button class="sheetClose" id="sheetClose">‚úï</button>
      </div>
      <div class="sheetList" id="sheetList"></div>
    </div>
  </div>

<script>
    // ELEMENTLER
    const inText = document.getElementById('inText');
    const outText = document.getElementById('outText');
    const translateBtn = document.getElementById('translateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const swapBtn = document.getElementById('swapBtn');
    const micIn = document.getElementById('micIn');
    const copyOut = document.getElementById('copyOut');
    
    // Dƒ∞L SE√áƒ∞Mƒ∞
    const fromLangBtn = document.getElementById('fromLangBtn');
    const toLangBtn = document.getElementById('toLangBtn');
    const langSheet = document.getElementById('langSheet');
    const sheetClose = document.getElementById('sheetClose');
    const sheetList = document.getElementById('sheetList');
    
    let fromLang = "autodetect"; 
    let toLang = "tr";
    let activeSide = "from";

    const languages = [
      { code: "autodetect", name: "Otomatik", flag: "üåê" },
      { code: "tr", name: "T√ºrk√ße", flag: "üáπüá∑" },
      { code: "en", name: "ƒ∞ngilizce", flag: "üá¨üáß" },
      { code: "de", name: "Almanca", flag: "üá©üá™" },
      { code: "fr", name: "Fransƒ±zca", flag: "üá´üá∑" },
      { code: "ru", name: "Rus√ßa", flag: "üá∑üá∫" },
      { code: "ar", name: "Arap√ßa", flag: "üá∏üá¶" },
      { code: "es", name: "ƒ∞spanyolca", flag: "üá™üá∏" },
      { code: "it", name: "ƒ∞talyanca", flag: "üáÆüáπ" },
      { code: "ja", name: "Japonca", flag: "üáØüáµ" },
      { code: "ko", name: "Korece", flag: "üá∞üá∑" },
      { code: "zh", name: "√áince", flag: "üá®üá≥" },
    ];

    // Temizle
    clearBtn.addEventListener('click', () => {
        inText.value = ""; outText.innerText = "‚Äî"; inText.focus();
    });

    // Swap (Deƒüi≈ütir)
    swapBtn.addEventListener('click', () => {
        if(fromLang === "autodetect") {
            alert("Otomatik moddayken dilleri deƒüi≈ütiremezsiniz. L√ºtfen soldan bir dil se√ßin.");
            return;
        }
        let temp = fromLang; fromLang = toLang; toLang = temp;
        updateUI();
    });

    // Kopyala
    copyOut.addEventListener('click', () => {
        if(outText.innerText !== "‚Äî") {
            navigator.clipboard.writeText(outText.innerText);
            alert("Kopyalandƒ±!");
        }
    });

    // √áEVƒ∞Rƒ∞ BUTONU (KORUMALI)
    translateBtn.addEventListener('click', async () => {
        const text = inText.value.trim();
        if(!text) return;

        // AYNI Dƒ∞L KONTROL√ú (SENƒ∞N HATAYI ENGELLEYEN YER)
        if (fromLang !== "autodetect" && fromLang === toLang) {
            outText.innerText = "‚ö†Ô∏è Ba≈ükanƒ±m, kaynak ve hedef dil aynƒ± olamaz. L√ºtfen farklƒ± diller se√ßin.";
            return;
        }

        const originalText = translateBtn.innerText;
        translateBtn.innerText = "√áevriliyor...";
        translateBtn.style.opacity = "0.7";
        outText.style.opacity = "0.5";

        try {
            const url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=${fromLang}|${toLang}`;
            const res = await fetch(url);
            const data = await res.json();

            // Eƒüer API hala hata verirse (MyMemory bazen kota hatasƒ± verir)
            if(data.responseData && data.responseData.translatedText) {
                // Hata mesajƒ± kontrol√º (API bazen hatayƒ± √ßeviri gibi d√∂ner)
                if (data.responseData.translatedText.includes("PLEASE SELECT TWO DISTINCT LANGUAGES")) {
                    outText.innerText = "‚ö†Ô∏è L√ºtfen iki farklƒ± dil se√ßiniz.";
                } else {
                    outText.innerText = data.responseData.translatedText;
                }
            } else {
                outText.innerText = "Hata olu≈ütu.";
            }
        } catch (err) {
            outText.innerText = "Baƒülantƒ± hatasƒ±!";
        } finally {
            translateBtn.innerText = originalText;
            translateBtn.style.opacity = "1";
            outText.style.opacity = "1";
        }
    });

    // Dil Men√ºs√º ƒ∞≈ülemleri
    function openSheet(side) {
        activeSide = side;
        sheetList.innerHTML = "";
        languages.forEach(lang => {
            // Saƒü tarafta 'Otomatik' olmasƒ±n
            if(activeSide === 'to' && lang.code === 'autodetect') return;
            
            const div = document.createElement('div');
            div.className = 'sheetRow';
            div.innerHTML = `<div class="left"><span style="font-size:20px">${lang.flag}</span><span class="name">${lang.name}</span></div>`;
            div.onclick = () => {
                if(activeSide === 'from') fromLang = lang.code;
                else toLang = lang.code;
                updateUI();
                langSheet.classList.remove('show');
            };
            sheetList.appendChild(div);
        });
        langSheet.classList.add('show');
    }

    function updateUI() {
        const f = languages.find(l => l.code === fromLang);
        const t = languages.find(l => l.code === toLang);
        document.getElementById('fromFlag').innerText = f.flag;
        document.getElementById('fromLangTxt').innerText = f.name;
        document.getElementById('toFlag').innerText = t.flag;
        document.getElementById('toLangTxt').innerText = t.name;
    }

    fromLangBtn.onclick = () => openSheet('from');
    toLangBtn.onclick = () => openSheet('to');
    sheetClose.onclick = () => langSheet.classList.remove('show');
    micIn.onclick = () => {
        micIn.classList.toggle('listening');
        inText.placeholder = micIn.classList.contains('listening') ? "Dinliyorum..." : "Yazmaya ba≈üla...";
    };

    updateUI();
</script>
</body>
</html>
