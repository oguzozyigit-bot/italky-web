<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
  <title>italkyAI â€¢ 3000 Quantum</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@200;400;900&family=Space+Grotesk:wght@300;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #000000;
      --accent-top: #00d1ff; /* Ä°yon Mavisi */
      --accent-bot: #ff2d55; /* Plazma Pembesi */
      --glass: rgba(255, 255, 255, 0.03);
      --border: rgba(255, 255, 255, 0.08);
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    html, body { 
      margin: 0; width: 100%; height: 100%; 
      background: var(--bg); color: #fff; 
      font-family: 'Outfit', sans-serif; overflow: hidden; 
    }

    .container { 
      display: flex; flex-direction: column; height: 100dvh; width: 100%; 
    }

    /* PANELLER */
    .half-screen {
      flex: 1; position: relative; display: flex; flex-direction: column;
      align-items: center; justify-content: space-between;
      padding: calc(15px + var(--safe-top)) 20px;
      transition: all 0.5s cubic-bezier(0.2, 1, 0.2, 1);
    }

    /* Ãœst taraf 180 derece dÃ¶nÃ¼k */
    .half-screen.top { 
      transform: rotate(180deg); 
      background: linear-gradient(180deg, rgba(0, 209, 255, 0.05) 0%, transparent 100%);
    }
    
    .half-screen.bottom {
      background: linear-gradient(180deg, rgba(255, 45, 85, 0.05) 0%, transparent 100%);
    }

    /* HUB (ORTA BÃ–LGE) - Pencerelerin binmesini engelleyen bariyer */
    .center-hub {
      height: 90px; position: relative; z-index: 1000;
      display: flex; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.8); backdrop-filter: blur(20px);
      border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
    }

    .hub-content { display: flex; align-items: center; gap: 20px; }

    .logo-capsule {
      padding: 10px 25px; border-radius: 100px; border: 1px solid var(--border);
      background: #000; display: flex; align-items: center; gap: 10px;
      box-shadow: 0 0 30px rgba(255,255,255,0.05); cursor: pointer;
    }

    .logo-text { 
      font-family: 'Space Grotesk', sans-serif; font-weight: 300; 
      letter-spacing: 5px; font-size: 16px; 
    }

    .hub-link {
      font-size: 10px; font-weight: 900; letter-spacing: 2px;
      text-transform: uppercase; opacity: 0.4; cursor: pointer;
    }

    /* DÄ°L SEÃ‡Ä°CÄ° */
    .lang-trigger {
      background: var(--glass); border: 1px solid var(--border);
      padding: 8px 20px; border-radius: 100px; color: #fff;
      font-size: 11px; font-weight: 600; letter-spacing: 1px;
    }

    /* POPOVERS - Logoya binmeyecek ÅŸekilde konumlandÄ±rÄ±ldÄ± */
    .popover {
      position: absolute; left: 50%; transform: translateX(-50%);
      width: 90%; max-width: 400px; height: 320px;
      background: rgba(10, 10, 10, 0.98); backdrop-filter: blur(40px);
      border: 1px solid var(--border); border-radius: 30px;
      display: none; flex-direction: column; z-index: 2000;
      box-shadow: 0 40px 100px rgba(0,0,0,1);
    }
    .popover.show { display: flex; }

    /* Ãœst taraf dÃ¶nÃ¼k olduÄŸu iÃ§in popover da dÃ¼z gÃ¶rÃ¼nmesi iÃ§in iÃ§ten dÃ¶ner */
    .half-screen.top .popover { top: 70px; transform: translateX(-50%) rotate(180deg); }
    .half-screen.bottom .popover { bottom: 70px; }

    /* CHAT BUBBLES */
    .chat-body {
      flex: 1; width: 100%; display: flex; flex-direction: column;
      justify-content: center; gap: 15px; overflow-y: auto; scrollbar-width: none;
    }

    .bubble.me.is-latest .txt {
      font-size: 38px; font-weight: 200; line-height: 1;
      letter-spacing: -1px; text-align: center;
      background: linear-gradient(to right, #fff, rgba(255,255,255,0.3));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* MÄ°KROFON */
    .btn-mic {
      width: 80px; height: 80px; border-radius: 100%;
      border: 1px solid var(--border); background: transparent;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; position: relative; transition: 0.3s;
    }

    .top .btn-mic svg { stroke: var(--accent-top); }
    .bottom .btn-mic svg { stroke: var(--accent-bot); }

    .btn-mic.listening {
      border-color: #fff; box-shadow: 0 0 40px rgba(255,255,255,0.1);
    }

    .btn-mic.listening::after {
      content: ""; position: absolute; inset: -5px;
      border: 1px solid #fff; border-radius: 100%;
      animation: ripple 1.5s infinite;
    }

    @keyframes ripple {
      0% { transform: scale(1); opacity: 0.5; }
      100% { transform: scale(1.4); opacity: 0; }
    }
  </style>
</head>

<body id="frameRoot">
  <div class="container">

    <div class="half-screen top" id="topSection">
      <button class="lang-trigger" id="topLangBtn">ðŸ‡¬ðŸ‡§ ENGLISH â€” QUANTUM</button>
      
      <div class="popover" id="pop-top">
        <div style="padding:20px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between;">
          <span style="font-size:10px; font-weight:900; letter-spacing:2px;">SELECT SOURCE</span>
          <button id="close-top" style="background:none; border:none; color:#fff; cursor:pointer;">âœ•</button>
        </div>
        <div class="pop-list" id="list-top" style="overflow-y:auto; padding:10px;"></div>
      </div>

      <div class="chat-body" id="topBody"></div>

      <div class="mic-wrap">
        <button class="btn-mic" id="topMic">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/><path d="M19 11v1a7 7 0 0 1-14 0v-1"/><path d="M12 19v3"/></svg>
        </button>
      </div>
    </div>

    <div class="center-hub">
      <div class="hub-content">
        <div class="hub-link" id="homeLink">Orbit</div>
        <div class="logo-capsule" id="homeBtn">
          <span class="logo-text">ITALKY<span style="opacity:0.5">AI</span></span>
        </div>
        <div class="hub-link" id="clearLink">Purge</div>
      </div>
    </div>

    <div class="half-screen bottom" id="botSection">
      <button class="lang-trigger" id="botLangBtn">ðŸ‡¹ðŸ‡· TÃœRKÃ‡E â€” NATIVE</button>

      <div class="popover" id="pop-bot">
        <div style="padding:20px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between;">
          <span style="font-size:10px; font-weight:900; letter-spacing:2px;">SELECT TARGET</span>
          <button id="close-bot" style="background:none; border:none; color:#fff; cursor:pointer;">âœ•</button>
        </div>
        <div class="pop-list" id="list-bot" style="overflow-y:auto; padding:10px;"></div>
      </div>

      <div class="chat-body" id="botBody"></div>

      <div class="mic-wrap">
        <button class="btn-mic" id="botMic">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/><path d="M19 11v1a7 7 0 0 1-14 0v-1"/><path d="M12 19v3"/></svg>
        </button>
      </div>
    </div>

  </div>

  <script type="module" src="/js/facetoface_page.js?v=20260219_2"></script>
  
  <script>
    // Minimal UI MantÄ±ÄŸÄ±
    const HOME = '/pages/home.html';
    document.getElementById('homeBtn')?.addEventListener('click', ()=> location.href = HOME);
    document.getElementById('homeLink')?.addEventListener('click', ()=> location.href = HOME);
    
    document.getElementById('clearLink')?.addEventListener('click', ()=>{
      document.getElementById('topBody').innerHTML='';
      document.getElementById('botBody').innerHTML='';
      window.speechSynthesis?.cancel?.();
    });

    // Pencereleri aÃ§ma/kapama mantÄ±ÄŸÄ± (Ã–rnek)
    const setupPop = (btnId, popId, closeId) => {
      const btn = document.getElementById(btnId);
      const pop = document.getElementById(popId);
      const close = document.getElementById(closeId);
      btn?.addEventListener('click', () => pop.classList.add('show'));
      close?.addEventListener('click', () => pop.classList.remove('show'));
    };

    setupPop('topLangBtn', 'pop-top', 'close-top');
    setupPop('botLangBtn', 'pop-bot', 'close-bot');
  </script>
</body>
</html>
