<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI - Pro Home</title>
  <style>
    :root {
      --glass: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --accent-bordo: #9d1b3d;
      --accent-cyan: #22d3ee;
    }

    #pageContent {
      height: 100%;
      display: flex;
      flex-direction: column;
      gap: 16px;
      padding-bottom: 20px;
      perspective: 1000px;
    }

    /* --- PREMIUM HERO: FaceToFace --- */
    .hero-container {
      position: relative;
      background: linear-gradient(135deg, #1e0b11 0%, #7c1231 100%);
      border-radius: 35px;
      padding: 30px;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(255,255,255,0.05);
      overflow: hidden;
      cursor: pointer;
    }

    .hero-container::before {
      content: ""; position: absolute; top: -20%; right: -10%; width: 250px; height: 250px;
      background: radial-gradient(circle, rgba(34, 211, 238, 0.15) 0%, transparent 70%);
      filter: blur(30px); animation: floating 6s infinite ease-in-out;
    }

    /* Pro ƒ∞kon: FaceToFace */
    .pro-icon-main {
      position: absolute; top: 25px; right: 25px;
      width: 90px; height: 90px;
      background: rgba(255,255,255,0.05);
      border-radius: 28px;
      display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    }
    .pro-icon-main svg { width: 45px; height: 45px; filter: drop-shadow(0 0 8px #22d3ee); }

    .hero-title { font-size: 34px; font-weight: 900; letter-spacing: -1.5px; line-height: 1; }
    .hero-sub { font-size: 13px; font-weight: 700; color: rgba(255,255,255,0.5); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 8px; }

    /* --- FULL WIDTH STRIP: Academy --- */
    .pro-strip {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(25px);
      border-radius: 28px;
      padding: 20px 24px;
      display: flex; align-items: center; gap: 18px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .pro-strip:active { transform: scale(0.97); background: rgba(255,255,255,0.06); }
    
    .strip-icon {
      width: 52px; height: 52px;
      background: linear-gradient(135deg, #a855f7, #6366f1);
      border-radius: 18px;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
    }

    /* --- SMART GRID: Tools --- */
    .pro-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    .pro-tile {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 30px;
      padding: 22px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .tile-glow {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: radial-gradient(circle at top left, rgba(255,255,255,0.05), transparent 70%);
      pointer-events: none;
    }

    .tile-icon {
      width: 48px; height: 48px;
      border-radius: 16px;
      display: flex; align-items: center; justify-content: center;
      font-size: 24px;
      transition: transform 0.3s;
    }
    
    /* ƒ∞kon Gradientleri */
    .i-text { background: linear-gradient(135deg, #34d399, #10b981); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.2); }
    .i-photo { background: linear-gradient(135deg, #60a5fa, #3b82f6); box-shadow: 0 10px 20px rgba(59, 130, 246, 0.2); }
    .i-doc { background: linear-gradient(135deg, #f472b6, #db2777); box-shadow: 0 10px 20px rgba(219, 39, 119, 0.2); }
    .i-game { background: linear-gradient(135deg, #fbbf24, #f59e0b); box-shadow: 0 10px 20px rgba(245, 158, 11, 0.2); }
    .i-chat { background: linear-gradient(135deg, #818cf8, #4f46e5); box-shadow: 0 10px 20px rgba(79, 70, 229, 0.2); }
    .i-ai { background: linear-gradient(135deg, #2dd4bf, #0d9488); box-shadow: 0 10px 20px rgba(13, 148, 136, 0.2); }

    .pro-tile h4 { margin: 0; font-size: 16px; font-weight: 800; letter-spacing: -0.5px; color: #fff; }
    .pro-tile p { margin: 0; font-size: 10px; font-weight: 700; color: rgba(255,255,255,0.4); text-transform: uppercase; }

    /* States */
    .locked { opacity: 0.3; filter: saturate(0.5); pointer-events: none; }
    .status-badge {
      position: absolute; top: 15px; right: 20px;
      font-size: 8px; font-weight: 900; padding: 2px 6px;
      border-radius: 6px; background: rgba(255,255,255,0.05); color: rgba(255,255,255,0.3);
    }

    @keyframes floating {
      0%, 100% { transform: translate(0, 0); }
      50% { transform: translate(-10px, 15px); }
    }
  </style>
</head>

<body>
  <div id="pageContent">
    
    <div class="hero-container" id="btnFfStart" data-href="/pages/facetoface.html">
      <div class="pro-icon-main">
        <svg viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 10l5 5-5 5"/><path d="M4 4v7a4 4 0 0 0 4 4h12"/></svg>
      </div>
      <div class="hero-info">
        <div class="hero-sub">AI Real-Time Voice</div>
        <div class="hero-title">FaceToFace</div>
      </div>
    </div>

    <div class="pro-strip" id="btnAcademy" data-href="/pages/teacher_select.html">
      <div class="strip-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>
      </div>
      <div class="strip-text">
        <h4 style="margin:0; font-size:18px; font-weight:900;">italky Academy</h4>
        <p style="margin:0; font-size:11px; color:rgba(255,255,255,0.4); font-weight:700;">PRO LEVEL EDUCATION AI</p>
      </div>
    </div>

    <div class="pro-grid">
      
      <div class="pro-tile" id="tileText" data-href="/pages/text_translate.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-text">‚úçÔ∏è</div>
        <div>
          <h4>Metin</h4>
          <p>Smart Translate</p>
        </div>
        <div class="status-badge" id="stText">SYNCED</div>
      </div>

      <div class="pro-tile" id="tileChat" data-href="/pages/teacher_select.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-chat">üí¨</div>
        <div>
          <h4>Sohbet AI</h4>
          <p>Intelligence</p>
        </div>
        <div class="status-badge">AI CORE</div>
      </div>

      <div class="pro-tile" id="tilePhoto" data-href="/pages/photo.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-photo">üì∏</div>
        <div>
          <h4>Fotoƒüraf</h4>
          <p>Vision Scan</p>
        </div>
        <div class="status-badge" id="stPhoto">ONLINE</div>
      </div>

      <div class="pro-tile" id="tileTeacher" data-href="/pages/teacher_select.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-ai">üéì</div>
        <div>
          <h4>√ñƒüretmen AI</h4>
          <p>Personal Coach</p>
        </div>
        <div class="status-badge">ACTIVE</div>
      </div>

      <div class="pro-tile" id="tileDoc" data-href="/pages/document.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-doc">üìÑ</div>
        <div>
          <h4>Belge</h4>
          <p>Doc Analyzer</p>
        </div>
        <div class="status-badge" id="stDoc">ONLINE</div>
      </div>

      <div class="pro-tile" id="tileGame" data-href="/pages/game.html">
        <div class="tile-glow"></div>
        <div class="tile-icon i-game">üéÆ</div>
        <div>
          <h4>Oyunlar</h4>
          <p>Daily Quest</p>
        </div>
        <div class="status-badge" id="stGame">LOCAL</div>
      </div>

    </div>
  </div>

  <script type="module">
    import { mountShell, setHeaderTokens } from "/js/ui_shell.js";
    import { bootPage } from "/js/ui_guard.js";
    import { ensureAuthAndCacheUser } from "/js/auth.js";

    mountShell({ scroll: "none" });

    const cached = await ensureAuthAndCacheUser();
    if (cached?.tokens != null) setHeaderTokens(cached.tokens);
    bootPage({ protectedPage: true, header: { nameId: "userName", picId: "userPic" } });

    function checkLogic() {
      const isOnline = navigator.onLine;
      const user = JSON.parse(localStorage.getItem('italky_user_v1') || '{}');
      const hasOff = (user.offline_langs || []).length > 0;
      
      const states = {
        tileText: isOnline || hasOff,
        tilePhoto: isOnline,
        tileDoc: isOnline,
        tileGame: true // Oyunlar genelde local cache
      };

      Object.entries(states).forEach(([id, ok]) => {
        const el = document.getElementById(id);
        if(!ok) el.classList.add('locked'); else el.classList.remove('locked');
      });
    }

    document.querySelectorAll("[data-href]").forEach(btn => {
      btn.onclick = () => { if(!btn.classList.contains('locked')) location.href = btn.dataset.href; };
    });

    checkLogic();
  </script>
</body>
</html>
